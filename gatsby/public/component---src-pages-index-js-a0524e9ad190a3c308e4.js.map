{"version":3,"sources":["webpack:///./src/styles/Grids.js","webpack:///./src/components/ItemGrid.js","webpack:///./src/components/LoadingGrid.js","webpack:///./src/utils/useLatestData.js","webpack:///./src/pages/index.js"],"names":["HomePageGrid","styled","div","ItemsGrid","ItemStyles","ItemGrid","items","map","item","className","name","width","height","src","image","asset","url","alt","style","background","metadata","lqip","backgroundSize","LoadingGrid","count","Array","from","length","_","i","gql","String","raw","deets","CurrentlySlicing","slicemasters","console","log","HotSlices","hotslices","HomePage","useState","setHotSlices","setSlicemasters","useEffect","fetch","process","method","headers","body","JSON","stringify","query","then","res","json","data","StoreSettings","hotSlices","slicemaster","catch","err","useLatestData"],"mappings":"+KAEaA,EAAeC,IAAOC,IAAV,0EAAGD,CAAH,6EAMZE,EAAYF,IAAOC,IAAV,uEAAGD,CAAH,0DAQTG,EAAaH,IAAOC,IAAV,wEAAGD,CAAH,mdCbR,SAASI,EAAT,GAA8B,IAAVC,EAAS,EAATA,MACjC,OACE,kBAACH,EAAD,KACGG,EAAMC,KAAI,SAACC,GAAD,OACT,kBAACJ,EAAD,KACE,2BACE,0BAAMK,UAAU,QAAQD,EAAKE,OAE/B,yBACEC,MAAM,MACNC,OAAO,MACPC,IAAQL,EAAKM,MAAMC,MAAMC,IAAtB,wBACHC,IAAKT,EAAKE,KACVQ,MAAO,CACLC,WAAW,OAAQX,EAAKM,MAAMC,MAAMK,SAASC,KAAnC,IACVC,eAAgB,gB,UCdf,SAASC,EAAT,GAAiC,IAAVC,EAAS,EAATA,MACpC,OACE,kBAACrB,EAAD,KACGsB,MAAMC,KAAK,CAAEC,OAAQH,IAAS,SAACI,EAAGC,GAAJ,OAC7B,kBAACzB,EAAD,KACE,2BACE,0BAAMK,UAAU,QAAhB,eAEF,yBACEI,IAAI,ivCACJI,IAAI,UACJR,UAAU,UACVE,MAAM,MACNC,OAAO,a,6VCfnB,IAAMkB,EAAMC,OAAOC,IACbC,EAAK,oICKX,SAASC,EAAT,GAA6C,IAAjBC,EAAgB,EAAhBA,aAE1B,OADAC,QAAQC,IAAIF,GAEV,6BACE,wBAAI1B,UAAU,UACZ,0BAAMA,UAAU,aAAhB,oBAEF,mEACE0B,GAAgB,kBAACZ,EAAD,CAAaC,MAAO,IACrCW,KAAiBA,aAAD,EAACA,EAAcR,SAC9B,4DAEDQ,aAAA,EAAAA,EAAcR,SAAU,kBAACtB,EAAD,CAAUC,MAAO6B,KAKhD,SAASG,EAAT,GAAmC,IAAdC,EAAa,EAAbA,UAEnB,OADAH,QAAQC,IAAIE,GAEV,6BACE,wBAAI9B,UAAU,UACZ,0BAAMA,UAAU,aAAhB,eAEF,0DACE8B,GAAa,kBAAChB,EAAD,CAAaC,MAAO,IAClCe,KAAcA,aAAD,EAACA,EAAWZ,SAAU,oDACnCY,aAAA,EAAAA,EAAWZ,SAAU,kBAACtB,EAAD,CAAUC,MAAOiC,KAK9B,SAASC,IAAY,IAAD,EDvBpB,WAAyB,MAEJC,qBAA3BF,EAF+B,KAEpBG,EAFoB,OAIED,qBAAjCN,EAJ+B,KAIjBQ,EAJiB,KA4CtC,OApCAC,qBAAU,WAERC,MAAMC,+DAAqC,CACzCC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBC,MAAOtB,EAAF,IAKKG,EAGAA,OAOXoB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACC,GAILZ,EAAaY,EAAIE,KAAKC,cAAcC,WACpCf,EAAgBW,EAAIE,KAAKC,cAAcE,gBAExCC,OAAM,SAACC,GACNzB,QAAQC,IAAI,WACZD,QAAQC,IAAIwB,QAEf,IACI,CAAEtB,YAAWJ,gBCpBgB2B,GAA5BvB,EADyB,EACzBA,UAAWJ,EADc,EACdA,aACnB,OACE,yBAAK1B,UAAU,UACb,uDACA,iEAEA,kBAACT,EAAD,KACE,kBAACkC,EAAD,CAAkBC,aAAcA,IAEhC,kBAACG,EAAD,CAAWC,UAAWA","file":"component---src-pages-index-js-a0524e9ad190a3c308e4.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const HomePageGrid = styled.div`\r\n  display: grid;\r\n  gap: 2rem;\r\n  grid-template-columns: repeat(2, minmax(auto, 1fr));\r\n`;\r\n\r\nexport const ItemsGrid = styled.div`\r\n  display: grid;\r\n  gap: 2rem;\r\n  grid-template-columns: 1fr 1fr;\r\n`;\r\n\r\n// single grid item (for homepage)\r\n\r\nexport const ItemStyles = styled.div`\r\n  text-align: center;\r\n  position: relative;\r\n  img {\r\n    height: auto;\r\n    font-size: 0;\r\n  }\r\n  p {\r\n    transform: rotate(-2deg) translateY(-140%);\r\n    position: absolute;\r\n    width: 100%;\r\n    left: 0;\r\n  }\r\n  .mark {\r\n    display: inline;\r\n  }\r\n  @keyframes shine {\r\n    from {\r\n      background-position: 200%;\r\n    }\r\n    to {\r\n      background-position: -40px;\r\n    }\r\n  }\r\n  img.loading {\r\n    --shine: white;\r\n    --background: var(--grey);\r\n    background-image: linear-gradient(\r\n      90deg,\r\n      var(--background) 0px,\r\n      var(--shine) 40px,\r\n      var(--background) 80px\r\n    );\r\n    background-size: 500px;\r\n    animation: shine 1s infinite linear;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { ItemsGrid, ItemStyles } from '../styles/Grids';\r\n\r\nexport default function ItemGrid({ items }) {\r\n  return (\r\n    <ItemsGrid>\r\n      {items.map((item) => (\r\n        <ItemStyles>\r\n          <p>\r\n            <span className=\"mark\">{item.name}</span>\r\n          </p>\r\n          <img\r\n            width=\"500\"\r\n            height=\"400\"\r\n            src={`${item.image.asset.url}?w=500&h=400&fit=crop`}\r\n            alt={item.name}\r\n            style={{\r\n              background: `url(${item.image.asset.metadata.lqip})`,\r\n              backgroundSize: 'cover',\r\n            }}\r\n          />\r\n        </ItemStyles>\r\n      ))}\r\n    </ItemsGrid>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport { ItemsGrid, ItemStyles } from '../styles/Grids';\r\n\r\nexport default function LoadingGrid({ count }) {\r\n  return (\r\n    <ItemsGrid>\r\n      {Array.from({ length: count }, (_, i) => (\r\n        <ItemStyles>\r\n          <p>\r\n            <span className=\"mark\">Loading...</span>\r\n          </p>\r\n          <img\r\n            src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAGQCAQAAADyulpNAAADaElEQVR42u3TQQ0AAAjEME450uGNBdJKWLJMF/BcjA5GB4wOGB0wOmB0wOiA0QGjg9EBowNGB4wOGB0wOmB0wOhgdMDogNEBowNGB4wOGB0wOhjd6GB0wOiA0QGjA0YHjA4YHTA6GB0wOmB0wOiA0QGjA0YHjA5GB4wOGB0wOmB0wOiA0QGjg9FFAKMDRgeMDhgdMDpgdMDogNHB6IDRAaMDRgeMDhgdMDpgdDA6YHTA6IDRAaMDRgeMDhgdjA4YHTA6YHTA6IDRAaMDRgeMDkYHjA4YHTA6YHTA6IDRAaOD0QGjA0YHjA4YHTA6YHTA6GB0wOiA0QGjA0YHjA4YHTA6YHQwOmB0wOiA0QGjA0YHjA4YHYwOGB0wOmB0wOiA0QGjA0YHowNGB4wOGB0wOmB0wOiA0QGjg9EBowNGB4wOGB0wOmB0wOhgdMDogNEBowNGB4wOGB0wOhgdMDpgdMDogNEBowNGB4wOGB2MDhgdMDpgdMDogNEBowNGB6MDRgeMDhgdMDpgdMDogNHB6IDRAaMDRgeMDhgdMDpgdMDoYHTA6IDRAaMDRgeMDhgdMDoYHTA6YHTA6IDRAaMDRgeMDkYHjA4YHTA6YHTA6IDRAaMDRgejA0YHjA4YHTA6YHTA6IDRweiA0QGjA0YHjA4YHTA6YHQwOmB0wOiA0QGjA0YHjA4YHTA6GB0wOmB0wOiA0QGjA0YHjA5GB4wOGB0wOmB0wOiA0QGjg9EBowNGB4wOGB0wOmB0wOhgdKOD0QGjA0YHjA4YHTA6YHTA6GB0wOiA0QGjA0YHjA4YHTA6GB0wOmB0wOiA0QGjA0YHjA5GNzoYHTA6YHTA6IDRAaMDRgeMDkYHjA4YHTA6YHTA6IDRAaOD0QGjA0YHjA4YHTA6YHTA6GB0EcDogNEBowNGB4wOGB0wOmB0MDpgdMDogNEBowNGB4wOGB2MDhgdMDpgdMDogNEBowNGB6MDRgeMDhgdMDpgdMDogNEBo4PRAaMDRgeMDhgdMDpgdMDoYHTA6IDRAaMDRgeMDhgdMDoYHTA6YHTA6IDRAaMDRgeMDhgdjA4YHTA6YHTA6IDRAaMDRgejA0YHjA4YHTA6YHTA6IDRweiA0QGjA0YHjA4YHTA6YHTA6GB0wOiA0QGjA0YHjA4YHbgWOutWjw/vUQoAAAAASUVORK5CYII=\"\r\n            alt=\"Loading\"\r\n            className=\"loading\"\r\n            width=\"500\"\r\n            height=\"400\"\r\n          />\r\n        </ItemStyles>\r\n      ))}\r\n    </ItemsGrid>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\n\r\nconst gql = String.raw;\r\nconst deets = `\r\n    name\r\n    _id\r\n    image {\r\n      asset {\r\n        url\r\n        metadata {\r\n          lqip\r\n        }\r\n      }\r\n    }\r\n  \r\n`;\r\n\r\nexport default function useLatestData() {\r\n  // hotslices\r\n  const [hotslices, setHotSlices] = useState();\r\n  // slicemasters\r\n  const [slicemasters, setSlicemasters] = useState();\r\n\r\n  // use a side effect to fetch the data from the graphql endpoint\r\n\r\n  useEffect(() => {\r\n    // when component loads, fetch the data\r\n    fetch(process.env.GATSBY_GRAPHQL_ENDPOINT, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        query: gql`\r\n          query {\r\n            StoreSettings(id: \"downtown\") {\r\n              name\r\n              slicemaster {\r\n                ${deets}\r\n              }\r\n              hotSlices {\r\n                ${deets}\r\n              }\r\n            }\r\n          }\r\n        `,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        // check for errors\r\n        // set the data to state\r\n\r\n        setHotSlices(res.data.StoreSettings.hotSlices);\r\n        setSlicemasters(res.data.StoreSettings.slicemaster);\r\n      })\r\n      .catch((err) => {\r\n        console.log('shooot!');\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n  return { hotslices, slicemasters };\r\n}\r\n","import React from 'react';\r\nimport ItemGrid from '../components/ItemGrid';\r\nimport Layout from '../components/Layout';\r\nimport LoadingGrid from '../components/LoadingGrid';\r\nimport Nav from '../components/Nav';\r\nimport { HomePageGrid } from '../styles/Grids';\r\nimport useLatestData from '../utils/useLatestData';\r\n\r\nfunction CurrentlySlicing({ slicemasters }) {\r\n  console.log(slicemasters);\r\n  return (\r\n    <div>\r\n      <h2 className=\"center\">\r\n        <span className=\"mark tilt\">Slicemasters On</span>\r\n      </h2>\r\n      <p>Standing by, ready to slice you up!</p>\r\n      {!slicemasters && <LoadingGrid count={4} />}\r\n      {slicemasters && !slicemasters?.length && (\r\n        <p>No one is working right now!</p>\r\n      )}\r\n      {slicemasters?.length && <ItemGrid items={slicemasters} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction HotSlices({ hotslices }) {\r\n  console.log(hotslices);\r\n  return (\r\n    <div>\r\n      <h2 className=\"center\">\r\n        <span className=\"mark tilt\">Hot Slices</span>\r\n      </h2>\r\n      <p>Come on by, buy the slice!</p>\r\n      {!hotslices && <LoadingGrid count={4} />}\r\n      {hotslices && !hotslices?.length && <p>Nothin' in the case.</p>}\r\n      {hotslices?.length && <ItemGrid items={hotslices} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function HomePage() {\r\n  const { hotslices, slicemasters } = useLatestData();\r\n  return (\r\n    <div className=\"center\">\r\n      <h1>The Best Pizza Downtown</h1>\r\n      <p>Open 11am to 11pm Every Single Day</p>\r\n\r\n      <HomePageGrid>\r\n        <CurrentlySlicing slicemasters={slicemasters} />\r\n\r\n        <HotSlices hotslices={hotslices} />\r\n      </HomePageGrid>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}